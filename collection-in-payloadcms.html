<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Payload CMS Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: The app is designed as an interactive cheatsheet, not a linear document. A sidebar with category filters and a global search bar allow for rapid, non-linear information retrieval. This structure is better for the target developer audience who needs to find specific information quickly, rather than reading top-to-bottom. The main content area uses a card-based layout to present each configuration property as a distinct, digestible piece of information. This is more scannable and user-friendly than a wall of text. -->
    <!-- Visualization & Content Choices: Report Info: Hierarchical list of properties. Goal: Inform, Organize, Allow quick lookup. Viz/Presentation: Interactive card grid. Each card details one property. Icons (Unicode) are used to visually tag properties (e.g., required, new), enhancing scannability. Interaction: 1) Category buttons filter the cards shown. 2) A live search bar filters cards by text content and highlights matches. Justification: This transforms a static reference document into a dynamic, searchable tool, which is far more useful for developers. Library/Method: HTML/Tailwind for structure and styling, Vanilla JS for all filtering, rendering, and highlighting logic. No charts needed. Confirmed NO SVG/Mermaid. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            background-color: #FDFBF7;
            font-family: 'Inter', sans-serif;
        }
        .highlight {
            background-color: #FBE58A;
            border-radius: 3px;
        }
        #category-nav button.active {
            background-color: #4A5568;
            color: #FFFFFF;
            font-weight: 600;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
</head>
<body class="text-gray-800">

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900 tracking-tight">Payload CMS Collection Guide</h1>
            <p class="mt-3 text-lg text-gray-600 max-w-2xl mx-auto">An interactive explorer for collection configurations. Use the filters and search bar to quickly find any property you need.</p>
        </header>

        <div class="flex flex-col md:flex-row gap-8">
            <aside class="md:w-1/4 lg:w-1/5">
                <div class="sticky top-8">
                    <h2 class="text-lg font-semibold mb-3 text-gray-700">Categories</h2>
                    <div id="category-nav" class="flex flex-col space-y-2">
                    </div>
                    <div class="mt-8">
                        <label for="search-input" class="text-lg font-semibold mb-3 text-gray-700 block">Search</label>
                        <input type="text" id="search-input" placeholder="e.g., 'preview', 'required'..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition">
                    </div>
                </div>
            </aside>

            <main id="properties-grid" class="flex-1 grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6">
            </main>
        </div>
    </div>

    <script>
        const configProperties = [
            { id: '1.1', name: 'slug', category: 'Core Properties', description: "The unique identifier for the collection. Used for API endpoints and the admin panel URL.", icon: 'ðŸš€' },
            { id: '1.2', name: 'fields', category: 'Core Properties', description: "An array of objects that defines the schema for your data. Each field object has a name and a type (e.g., text, number, richText).", icon: 'ðŸš€' },
            { id: '1.3', name: 'upload', category: 'Core Properties', description: "An object or boolean that turns a collection into a file upload manager.", icon: 'ðŸ“' },
            { id: '1.4', name: 'auth', category: 'Core Properties', description: "An object that enables user authentication for a collection, adding login and password recovery functionality.", icon: 'ðŸ”’' },
            { id: '2.1.1', name: 'admin.useAsTitle', category: 'Admin Panel Options', description: "Specifies which field to use as the document title in the admin panel list view and relationship fields.", icon: 'âœ¨' },
            { id: '2.1.2', name: 'admin.defaultColumns', category: 'Admin Panel Options', description: "An array of field names to display as columns in the list view.", icon: 'âœ¨' },
            { id: '2.1.3', name: 'admin.defaultSort', category: 'Admin Panel Options', description: "The default field to sort the list view by.", icon: 'âœ¨' },
            { id: '2.1.4', name: 'admin.group', category: 'Admin Panel Options', description: "A string to group collections together in the sidebar.", icon: 'âœ¨' },
            { id: '2.1.5', name: 'admin.description', category: 'Admin Panel Options', description: "A short description that appears under the collection name in the admin panel.", icon: 'âœ¨' },
            { id: '2.1.6', name: 'admin.preview', category: 'Admin Panel Options', description: "A function that returns the URL for the front-end preview button.", icon: 'ðŸ‘ï¸', tag: 'New' },
            { id: '2.1.7', name: 'admin.hideAPIURL', category: 'Admin Panel Options', description: "A boolean to hide the REST API URL link in the document edit view.", icon: 'âœ¨', tag: 'New' },
            { id: '2.1.8', name: 'admin.readOnly', category: 'Admin Panel Options', description: "A boolean that makes all documents in the collection uneditable in the admin panel.", icon: 'âœ¨', tag: 'New' },
            { id: '3.1', name: 'hooks', category: 'Data & Behavior', description: "An object with properties for different lifecycle events (`beforeChange`, `afterRead`, etc.), each taking an array of functions.", icon: 'âš™ï¸' },
            { id: '3.2', name: 'timestamps', category: 'Data & Behavior', description: "A boolean that enables or disables `createdAt` and `updatedAt` timestamps.", icon: 'âš™ï¸' },
            { id: '3.3', name: 'versions', category: 'Data & Behavior', description: "A boolean to enable or disable document versioning and backups.", icon: 'âš™ï¸' },
            { id: '3.4', name: 'drafts', category: 'Data & Behavior', description: "A boolean to enable a draft/published workflow for content.", icon: 'âš™ï¸' },
            { id: '3.5', name: 'defaultPopulate', category: 'Data & Behavior', description: "Specify which fields to populate by default in relationships queries.", icon: 'ðŸ”—' },
            { id: '3.6', name: 'disable', category: 'Data & Behavior', description: "A boolean to completely disable the collection and remove it from the admin panel and all APIs.", icon: 'ðŸ›‘', tag: 'New' },
            { id: '4.1.1', name: 'access.create', category: 'Access Control', description: "Access function to control document creation.", icon: 'ðŸ”‘' },
            { id: '4.1.2', name: 'access.read', category: 'Access Control', description: "Access function to control document reading.", icon: 'ðŸ”‘' },
            { id: '4.1.3', name: 'access.update', category: 'Access Control', description: "Access function to control document modification.", icon: 'ðŸ”‘' },
            { id: '4.1.4', name: 'access.delete', category: 'Access Control', description: "Access function to control document deletion.", icon: 'ðŸ”‘' },
            { id: '4.1.5', name: 'access.readVersions', category: 'Access Control', description: "Access function for reading historical versions.", icon: 'ðŸ”‘', tag: 'New' },
            { id: '4.1.6', name: 'access.readDrafts', category: 'Access Control', description: "Access function for reading draft documents.", icon: 'ðŸ”‘', tag: 'New' },
            { id: '5.1', name: 'graphQL', category: 'GraphQL & API', description: "An object for customizing GraphQL behavior.", icon: 'ðŸŒ' },
            { id: '5.2', name: 'endpoints', category: 'GraphQL & API', description: "An array to add custom REST API endpoints to a collection.", icon: 'ðŸŒ' },
            { id: '5.3', name: 'labels', category: 'GraphQL & API', description: "An object for specifying singular and plural labels for the collection.", icon: 'ðŸŒ' },
            { id: '6.1', name: 'dbName', category: 'Advanced Features', description: "A custom name for the database table or collection.", icon: 'ðŸ”¬' },
            { id: '6.2', name: 'i18n', category: 'Advanced Features', description: "An object for managing internationalization (i18n) settings.", icon: 'ðŸ”¬' },
            { id: '6.3', name: 'customID', category: 'Advanced Features', description: "Define a custom ID field for the collection.", icon: 'ðŸ”¬' },
            { id: '6.4', name: 'jsonFields', category: 'Advanced Features', description: "An array of field names to explicitly store as JSON strings in the database.", icon: 'ðŸ”¬', tag: 'New' },
            { id: '7.1', name: 'required', category: 'Field-Level Configuration', description: "A boolean to enforce that a field must have a value.", icon: 'â—ï¸' },
            { id: '7.2', name: 'unique', category: 'Field-Level Configuration', description: "A boolean to enforce that no two documents can have the same value for this field.", icon: 'ðŸ¥‡' },
            { id: '7.3', name: 'localized', category: 'Field-Level Configuration', description: "A boolean to allow this field's value to be translated across different locales (languages).", icon: 'ðŸŒŽ' },
            { id: '7.4', name: 'defaultValue', category: 'Field-Level Configuration', description: "A value or function to set the field's default value on document creation.", icon: 'ðŸ”¢' },
            { id: '7.5', name: 'validate', category: 'Field-Level Configuration', description: "A function for custom, asynchronous or synchronous field validation.", icon: 'âœ…' },
            { id: '7.6', name: 'index', category: 'Field-Level Configuration', description: "A boolean to create a database index on the field for improved query performance.", icon: 'ðŸ”Ž' },
            { id: '7.7', name: 'admin.condition', category: 'Field-Level Configuration', description: "A function that conditionally hides or shows the field in the admin panel based on other field values.", icon: 'ðŸŽ­' },
            { id: '7.8', name: 'admin.components', category: 'Field-Level Configuration', description: "An object to replace default admin field components (e.g., custom input, custom cell).", icon: 'ðŸŽ¨', tag: 'New' }
        ];

        const propertiesGrid = document.getElementById('properties-grid');
        const categoryNav = document.getElementById('category-nav');
        const searchInput = document.getElementById('search-input');

        let currentCategory = 'All';
        let searchTerm = '';

        const categories = ['All', ...new Set(configProperties.map(p => p.category))];

        function highlightText(text, term) {
            if (!term) return text;
            const regex = new RegExp(`(${term})`, 'gi');
            return text.replace(regex, `<span class="highlight">$1</span>`);
        }
        
        function renderProperties() {
            propertiesGrid.innerHTML = '';
            const filteredProperties = configProperties.filter(prop => {
                const inCategory = currentCategory === 'All' || prop.category === currentCategory;
                const inSearch = searchTerm === '' || 
                                 prop.name.toLowerCase().includes(searchTerm) || 
                                 prop.description.toLowerCase().includes(searchTerm) ||
                                 prop.category.toLowerCase().includes(searchTerm);
                return inCategory && inSearch;
            });

            if (filteredProperties.length === 0) {
                propertiesGrid.innerHTML = `<div class="lg:col-span-2 xl:col-span-3 text-center py-12">
                    <h3 class="text-2xl font-semibold text-gray-700">No properties found</h3>
                    <p class="text-gray-500 mt-2">Try adjusting your category filter or search term.</p>
                </div>`;
                return;
            }

            filteredProperties.forEach(prop => {
                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl shadow-md p-6 border border-gray-200 hover:shadow-lg hover:border-blue-400 transition-all duration-300 flex flex-col fade-in';
                
                const tagHtml = prop.tag ? `<span class="ml-auto bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">${prop.tag}</span>` : '';

                card.innerHTML = `
                    <div class="flex items-start mb-3">
                        <span class="text-xl mr-3">${prop.icon}</span>
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-gray-900">${highlightText(prop.name, searchTerm)}</h3>
                            <p class="text-sm text-gray-500">${highlightText(prop.category, searchTerm)}</p>
                        </div>
                        ${tagHtml}
                    </div>
                    <p class="text-gray-700 flex-grow">${highlightText(prop.description, searchTerm)}</p>
                `;
                propertiesGrid.appendChild(card);
            });
        }

        function renderCategories() {
            categoryNav.innerHTML = '';
            categories.forEach(category => {
                const button = document.createElement('button');
                button.textContent = category;
                button.className = 'w-full text-left px-4 py-2 rounded-lg transition-colors duration-200 hover:bg-gray-200';
                if (category === currentCategory) {
                    button.classList.add('active');
                }
                button.addEventListener('click', () => {
                    currentCategory = category;
                    document.querySelectorAll('#category-nav button').forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    renderProperties();
                });
                categoryNav.appendChild(button);
            });
        }

        searchInput.addEventListener('input', (e) => {
            searchTerm = e.target.value.toLowerCase();
            renderProperties();
        });

        document.addEventListener('DOMContentLoaded', () => {
            renderCategories();
            renderProperties();
        });

    </script>
</body>
</html>
